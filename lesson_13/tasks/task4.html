<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Задача №4</title>
  </head>
  <body>
    <h1>Задача №4</h1>
    <p>
      З використанням замикань розробити ітератор, тобто функцію, що буде
      поступово за окремими викликами видавати по одну букву наперед заданого
      слова. З використанням нього розробити гру «Перекладач». Виводимо для
      користувача опис цього слова і по одну букву користувач вводить переклад
      цього слова. Підрахувати кількість вгаданих букв.
    </p>
    <h1><mark>Розв'язок:</mark></h1>

    <script>
      function createIterator(word) {
        let index = 0
        function iterator() {
          if (index >= word.length) index = 0
          return word[index++]
        }
        return iterator
      }

      function translationGame(word, description) {
        const guessWordByLetters = createIterator(word)
        let correctCounter = 0
        alert(
          `Опис слова, яке потрібно відгадати та перекласти на англійську: ${description}`
        )
        for (let i = 1; i <= word.length; i++) {
          const letter = guessWordByLetters()

          const userTranslation = prompt(`Введіть літеру ${i}:`)
          if (userTranslation.toLowerCase() === letter) {
            alert("Правильно!")
            correctCounter++
          } else {
            alert("Неправильно!")
          }
        }
        return correctCounter
      }

      const guessWord = "hello"
      const description = "найпоширеніше вітання англійською"
      const userGame = translationGame(guessWord, description)
      document.write(`Кількість вгаданих букв: ${userGame}.`)
    </script>
  </body>
</html>
